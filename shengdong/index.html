<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>声动信通</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700;800&family=Inter:wght@400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Background Container -->
    <div class="background"></div>

    <!-- Main Presentation Container -->
    <main class="presentation-container">
        <!-- Slide Canvas (16:9 ratio) -->
        <div id="slideCanvas" class="slide-canvas">
            <!-- Slides will be dynamically injected here -->
        </div>

        <!-- Navigation Controls -->
        <div class="nav-controls">
            <button id="prevBtn" class="nav-btn" aria-label="Previous slide">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="15 18 9 12 15 6"></polyline>
                </svg>
            </button>

            <div id="slideCounter" class="slide-counter">1 / 1</div>

            <button id="nextBtn" class="nav-btn" aria-label="Next slide">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
            </button>

            <button id="fullscreenBtn" class="nav-btn fullscreen-btn" aria-label="Toggle fullscreen">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path
                        d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3">
                    </path>
                </svg>
            </button>
        </div>
    </main>

    <!-- Picker Container (Hidden by default) -->
    <div id="pickerContainer" class="picker-container hidden">
        <!-- 返回按钮 -->
        <button id="backToPresentation" class="back-btn">← 返回演示</button>

        <!-- 主标题 -->
        <h1 class="picker-title">信通大转盘</h1>
        <p class="picker-subtitle">内部人员随机抽取系统</p>

        <!-- 筛选面板 -->
        <div class="filter-panel">
            <div class="filter-group">
                <label class="filter-label" for="pickerDeptFilter">部门筛选</label>
                <select id="pickerDeptFilter" class="filter-select">
                    <option value="">不限</option>
                </select>
            </div>
            <div class="filter-group">
                <label class="filter-label" for="pickerGenderFilter">性别筛选</label>
                <select id="pickerGenderFilter" class="filter-select">
                    <option value="">不限</option>
                </select>
            </div>
        </div>

        <!-- 老虎机主体 -->
        <div class="slot-machine">
            <div class="reels-container">
                <!-- 部门转轮 -->
                <div class="reel-wrapper">
                    <div class="reel-title">部 门</div>
                    <div class="reel" id="pickerReelDept">
                        <div class="reel-content" id="pickerReelDeptContent"></div>
                        <div class="reel-highlight"></div>
                    </div>
                </div>
                <!-- 性别转轮 -->
                <div class="reel-wrapper">
                    <div class="reel-title">性 别</div>
                    <div class="reel" id="pickerReelGender">
                        <div class="reel-content" id="pickerReelGenderContent"></div>
                        <div class="reel-highlight"></div>
                    </div>
                </div>
                <!-- 姓名转轮 -->
                <div class="reel-wrapper">
                    <div class="reel-title">姓 名</div>
                    <div class="reel" id="pickerReelName">
                        <div class="reel-content" id="pickerReelNameContent"></div>
                        <div class="reel-highlight"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 开始按钮 -->
        <div class="lever-button">
            <button id="pickerStartBtn" class="start-btn">开始摇号</button>
        </div>

        <!-- 结果显示区 -->
        <div class="result-panel" id="pickerResultPanel">
            <div class="result-label">本次抽中人员</div>
            <div class="result-content empty" id="pickerResultContent">等待抽取...</div>
        </div>

        <!-- 消息提示区 -->
        <div class="message-area" id="pickerMessageArea"></div>

        <!-- 底部信息 -->
        <div class="picker-footer">
            © 2026 信通公司 · 内部使用
        </div>
    </div>

    <!-- Instructional Overlay -->
    <div id="instructionOverlay" class="instruction-overlay">
        <div class="instruction-content">
            <h1>🎭 互动剧本杀演示</h1>
            <p>欢迎！请选择您的资源文件夹以开始。</p>
            <button id="selectFolderBtn" class="select-folder-btn">
                📁 选择资源文件夹
            </button>
            <div class="instruction-info">
                <p><strong>预期结构：</strong></p>
                <pre>assets/
  rounds/
    round1/
      video.mp4
      poster.jpg
      info.json
    round2/
      ...</pre>
                <p class="tip">💡 按 <kbd>→</kbd> 或 <kbd>空格键</kbd> 切换幻灯片</p>
                <p class="tip">💡 按 <kbd>F</kbd> 切换全屏模式</p>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>